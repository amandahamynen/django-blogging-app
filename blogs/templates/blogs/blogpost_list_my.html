{% extends 'layout.html' %}
{% block title %}My Blogposts{% endblock %}
{% block content %}
<div class="page-header">
  <h2 class="page-title">My Blogposts</h2>
  <a
    href="{% url 'blogs:blogpost_create' %}"
    class="create-post-button"
    title="Create new blogpost"
  >
    +
  </a>
</div>
<div class="blogpost-list">
  {% for blogpost in blogposts %}
  <article class="blogpost-card">
    <h3>
      <div>
        <form method="post" style="display:inline;">
          {% csrf_token %}
          <input type="hidden" name="blogpost_id" value="{{ blogpost.id }}" />
          <button type="submit" class="privacy-toggle-button">
            {% if blogpost.private %}
              üîí
            {% else %}
              üåç
            {% endif %}
          </button>
        </form>
        <a href="{% url 'blogs:blogpost_detail' blogpost.id %}">
          {{ blogpost.title }}
        </a>
      </div>
    </h3>
    <p class="blogpost-meta">
      Published on {{ blogpost.created_at|date:"M d, Y" }}
    </p>
    <p class="blogpost-excerpt">{{ blogpost.content|truncatewords:25 }}</p>
    <a class="read-more" href="{% url 'blogs:blogpost_detail' blogpost.id %}">
      Read more ‚Üí
    </a>
  </article>
  {% empty %}
  <p>No blogposts yet.</p>
  {% endfor %}
</div>
{% endblock %}
